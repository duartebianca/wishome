// Define the provider and URL to SQLite
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

// Schema for user Gifter and Wishmaker
model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  role      String   // Use a string to define the role (e.g., 'GIFTER' or 'WISHMAKER')
  createdAt DateTime @default(now())
  
  giftStatus GiftStatus[]
}

// Schema for the Gift List
model Gift {
  id        Int      @id @default(autoincrement())
  name      String   // Name of the gift
  price     Float    // Price of the gift
  link      String?  // Store link (optional)
  imageUrl  String?  // Image URL of the gift
  status    GiftStatus[]  // Status of the gift (available, purchased, thinking)

  createdAt DateTime @default(now())
}

// Status of a gift (purchased, thinking, etc.)
model GiftStatus {
  id        Int      @id @default(autoincrement())
  status    String   // Use a string for gift status (e.g., 'AVAILABLE', 'PURCHASED', 'THINKING')
  gift      Gift     @relation(fields: [giftId], references: [id])
  giftId    Int
  user      User     @relation(fields: [userId], references: [id])
  userId    Int
  updatedAt DateTime @updatedAt
}
